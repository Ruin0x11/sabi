use calx_ecs::Entity;

use world::{EcsWorld, WorldPosition};
use world::traits::Mutate;
use ecs::prefab::Prefab;
use engine;
use point::Point;
use state::GameState;
use log;

use ::GameContext;

fn world_bounded() -> EcsWorld {
    let mut world = EcsWorld::new_blank(32, 32);
    let e = world.create(::ecs::prefab::mob("Player", 100000, ::glyph::Glyph::Player), Point::new(0,0));
    world.set_player(Some(e));
    world
}

fn world_bounded() -> EcsWorld {
    let mut world = EcsWorld::new_blank(32, 32);
    let e = world.create(::ecs::prefab::mob("Player", 100000, ::glyph::Glyph::Player), Point::new(0,0));
    world.set_player(Some(e));
    world
}

pub fn test_context_bounded() -> GameContext {
    let mut context = GameContext::new();
    context.state.world = world_bounded();
    context
}

pub fn test_context_unbounded() -> GameContext {
    let mut context = GameContext::new();
    context.state.world = world_unbounded();
    context
}

pub fn place_mob(world: &mut EcsWorld, pos: WorldPosition) -> Entity {
    world.create(Prefab::new(), pos)
}
